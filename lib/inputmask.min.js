(function(a){if(typeof define==="function"&&define.amd){define(["inputmask.dependencyLib"],a)}else{if(typeof exports==="object"){module.exports=a(require("./inputmask.dependencyLib.jquery"))}else{a(window.dependencyLib||jQuery)}}}(function(g){function f(o,n){if(!(this instanceof f)){return new f(o,n)}if(g.isPlainObject(o)){n=o}else{n=n||{};n.alias=o}this.el=undefined;this.opts=g.extend(true,{},this.defaults,n);this.noMasksCache=n&&n.definitions!==undefined;this.userOptions=n||{};this.events={};i(this.opts.alias,n,this.opts)}f.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:g.noop,onincomplete:g.noop,oncleared:g.noop,repeat:0,greedy:true,autoUnmask:false,removeMaskOnSubmit:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},alias:null,onKeyDown:g.noop,onBeforeMask:null,onBeforePaste:function(n,o){return g.isFunction(o.onBeforeMask)?o.onBeforeMask(n,o):n},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:g.noop,skipOptionalPartCharacter:" ",showTooltip:false,tooltip:undefined,numericInput:false,rightAlign:false,undoOnEscape:true,radixPoint:"",radixPointDefinitionSymbol:undefined,groupSeparator:"",radixFocus:false,nojumps:false,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:false,tabThrough:false,supportsInputType:["text","tel","password"],definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:g.noop,postValidation:null,staticDefinitionSymbol:undefined,jitMasking:false,nullable:true},masksCache:{},mask:function(n){var o=this;if(typeof n==="string"){n=document.getElementById(n)||document.querySelectorAll(n)}n=n.nodeName?[n]:n;g.each(n,function(q,r){var p=g.extend(true,{},o.opts);m(r,p,g.extend(true,{},o.userOptions));var s=e(p,o.noMasksCache);if(s!==undefined){if(r.inputmask!==undefined){r.inputmask.remove()}r.inputmask=new f();r.inputmask.opts=p;r.inputmask.noMasksCache=o.noMasksCache;r.inputmask.userOptions=g.extend(true,{},o.userOptions);r.inputmask.el=r;r.inputmask.maskset=s;r.inputmask.isRTL=false;g.data(r,"_inputmask_opts",p);h({action:"mask",el:r})}});return n&&n[0]?(n[0].inputmask||this):this},option:function(n){if(typeof n==="string"){return this.opts[n]}else{if(typeof n==="object"){g.extend(this.opts,n);g.extend(this.userOptions,n);if(this.el){if(n.mask!==undefined||n.alias!==undefined){this.mask(this.el)}else{g.data(this.el,"_inputmask_opts",this.opts);h({action:"mask",el:this.el})}}return this}}},unmaskedvalue:function(n){return h({action:"unmaskedvalue",el:this.el,value:n},this.el&&this.el.inputmask?this.el.inputmask.maskset:e(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el){h({action:"remove",el:this.el});this.el.inputmask=undefined;return this.el}},getemptymask:function(){return h({action:"getemptymask"},this.maskset||e(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return !this.opts.autoUnmask},isComplete:function(){return h({action:"isComplete",el:this.el},this.maskset||e(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return h({action:"getmetadata"},this.maskset||e(this.opts,this.noMasksCache),this.opts)},isValid:function(n){return h({action:"isValid",value:n},this.maskset||e(this.opts,this.noMasksCache),this.opts)},format:function(o,n){return h({action:"format",value:o,metadata:n},this.maskset||e(this.opts,this.noMasksCache),this.opts)}};f.extendDefaults=function(n){g.extend(true,f.prototype.defaults,n)};f.extendDefinitions=function(n){g.extend(true,f.prototype.defaults.definitions,n)};f.extendAliases=function(n){g.extend(true,f.prototype.defaults.aliases,n)};f.format=function(p,n,o){return f(n).format(p,o)};f.unmask=function(o,n){return f(n).unmaskedvalue(o)};f.isValid=function(o,n){return f(n).isValid(o)};f.remove=function(n){g.each(n,function(o,p){if(p.inputmask){p.inputmask.remove()}})};f.escapeRegex=function(o){var n=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return o.replace(new RegExp("(\\"+n.join("|\\")+")","gim"),"\\$1")};f.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};function l(n){var q=document.createElement("input"),p="on"+n,o=(p in q);if(!o){q.setAttribute(p,"return;");o=typeof q[p]=="function"}q=null;return o}function j(o,r){var n=o.getAttribute("type");var p=(o.tagName==="INPUT"&&g.inArray(n,r.supportsInputType)!==-1)||o.isContentEditable||o.tagName==="TEXTAREA";if(!p&&o.tagName==="INPUT"){var q=document.createElement("input");q.setAttribute("type",n);p=q.type==="text";q=null}return p}function i(o,p,q){var n=q.aliases[o];if(n){if(n.alias){i(n.alias,undefined,q)}g.extend(true,q,n);g.extend(true,q,p);return true}else{if(q.mask===null){q.mask=o}}return false}function m(w,n,u){var v=w.getAttribute("data-inputmask"),t,q,s,o;function r(p,x){x=x!==undefined?x:w.getAttribute("data-inputmask-"+p);if(x!==null){if(typeof x==="string"){if(p.indexOf("on")===0){x=window[x]}else{if(x==="false"){x=false}else{if(x==="true"){x=true}}}}u[p]=x}}if(v&&v!==""){v=v.replace(new RegExp("'","g"),'"');q=JSON.parse("{"+v+"}")}if(q){s=undefined;for(o in q){if(o.toLowerCase()==="alias"){s=q[o];break}}}r("alias",s);if(u.alias){i(u.alias,u,n)}for(t in n){if(q){s=undefined;for(o in q){if(o.toLowerCase()===t.toLowerCase()){s=q[o];break}}}r(t,s)}g.extend(true,n,u);return n}function e(t,q){var o;function s(N){var H=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,C=false,w=new B(),E,J,R=[],z=[],A,O,Q,P,x;function B(W,U,V,T){this.matches=[];this.isGroup=W||false;this.isOptional=U||false;this.isQuantifier=V||false;this.isAlternator=T||false;this.quantifier={min:1,max:1}}function u(ab,W,Y){var U=t.definitions[W];Y=Y!==undefined?Y:ab.matches.length;var V=ab.matches[Y-1];if(U&&!C){U.placeholder=g.isFunction(U.placeholder)?U.placeholder(t):U.placeholder;var aa=U.prevalidator,ad=aa?aa.length:0;for(var X=1;X<U.cardinality;X++){var ac=ad>=X?aa[X-1]:[],T=ac.validator,Z=ac.cardinality;ab.matches.splice(Y++,0,{fn:T?typeof T==="string"?new RegExp(T):new function(){this.test=T}:new RegExp("."),cardinality:Z?Z:1,optionality:ab.isOptional,newBlockMarker:V===undefined||V.def!==(U.definitionSymbol||W),casing:U.casing,def:U.definitionSymbol||W,placeholder:U.placeholder,mask:W});V=ab.matches[Y-1]}ab.matches.splice(Y++,0,{fn:U.validator?typeof U.validator=="string"?new RegExp(U.validator):new function(){this.test=U.validator}:new RegExp("."),cardinality:U.cardinality,optionality:ab.isOptional,newBlockMarker:V===undefined||V.def!==(U.definitionSymbol||W),casing:U.casing,def:U.definitionSymbol||W,placeholder:U.placeholder,mask:W})}else{ab.matches.splice(Y++,0,{fn:null,cardinality:0,optionality:ab.isOptional,newBlockMarker:V===undefined||V.def!==W,casing:null,def:t.staticDefinitionSymbol||W,placeholder:t.staticDefinitionSymbol!==undefined?W:undefined,mask:W});C=false}}function D(U,T){if(U.isGroup){U.isGroup=false;u(U,t.groupmarker.start,0);if(T!==true){u(U,t.groupmarker.end)}}}function S(T,V,W,U){if(V.matches.length>0&&(U===undefined||U)){W=V.matches[V.matches.length-1];D(W)}u(V,T)}function F(){if(R.length>0){O=R[R.length-1];S(J,O,P,!O.isAlternator);if(O.isAlternator){Q=R.pop();for(var T=0;T<Q.matches.length;T++){Q.matches[T].isGroup=false}if(R.length>0){O=R[R.length-1];O.matches.push(Q)}else{w.matches.push(Q)}}}else{S(J,w,P)}}function y(V){function W(Y){if(Y===t.optionalmarker.start){Y=t.optionalmarker.end}else{if(Y===t.optionalmarker.end){Y=t.optionalmarker.start}else{if(Y===t.groupmarker.start){Y=t.groupmarker.end}else{if(Y===t.groupmarker.end){Y=t.groupmarker.start}}}}return Y}V.matches=V.matches.reverse();for(var U in V.matches){var T=parseInt(U);if(V.matches[U].isQuantifier&&V.matches[T+1]&&V.matches[T+1].isGroup){var X=V.matches[U];V.matches.splice(U,1);V.matches.splice(T+1,0,X)}if(V.matches[U].matches!==undefined){V.matches[U]=y(V.matches[U])}else{V.matches[U]=W(V.matches[U])}}return V}while(E=H.exec(N)){J=E[0];if(C){F();continue}switch(J.charAt(0)){case t.escapeChar:C=true;break;case t.optionalmarker.end:case t.groupmarker.end:A=R.pop();if(A!==undefined){if(R.length>0){O=R[R.length-1];O.matches.push(A);if(O.isAlternator){Q=R.pop();for(var G=0;G<Q.matches.length;G++){Q.matches[G].isGroup=false}if(R.length>0){O=R[R.length-1];O.matches.push(Q)}else{w.matches.push(Q)}}}else{w.matches.push(A)}}else{F()}break;case t.optionalmarker.start:R.push(new B(false,true));break;case t.groupmarker.start:R.push(new B(true));break;case t.quantifiermarker.start:var I=new B(false,false,true);J=J.replace(/[{}]/g,"");var K=J.split(","),M=isNaN(K[0])?K[0]:parseInt(K[0]),L=K.length===1?M:(isNaN(K[1])?K[1]:parseInt(K[1]));if(L==="*"||L==="+"){M=L==="*"?0:1}I.quantifier={min:M,max:L};if(R.length>0){var v=R[R.length-1].matches;E=v.pop();if(!E.isGroup){x=new B(true);x.matches.push(E);E=x}v.push(E);v.push(I)}else{E=w.matches.pop();if(!E.isGroup){x=new B(true);x.matches.push(E);E=x}w.matches.push(E);w.matches.push(I)}break;case t.alternatormarker:if(R.length>0){O=R[R.length-1];P=O.matches.pop()}else{P=w.matches.pop()}if(P.isAlternator){R.push(P)}else{Q=new B(false,false,false,true);Q.matches.push(P);R.push(Q)}break;default:F()}}while(R.length>0){A=R.pop();D(A,true);w.matches.push(A)}if(w.matches.length>0){P=w.matches[w.matches.length-1];D(P);z.push(w)}if(t.numericInput){y(z[0])}return z}function r(u,v){if(u===null||u===""){return undefined}else{if(u.length===1&&t.greedy===false&&t.repeat!==0){t.placeholder=""}if(t.repeat>0||t.repeat==="*"||t.repeat==="+"){var w=t.repeat==="*"?0:(t.repeat==="+"?1:t.repeat);u=t.groupmarker.start+u+t.groupmarker.end+t.quantifiermarker.start+w+","+t.repeat+t.quantifiermarker.end}var x;if(f.prototype.masksCache[u]===undefined||q===true){x={mask:u,maskToken:s(u),validPositions:{},_buffer:undefined,buffer:undefined,tests:{},metadata:v};if(q!==true){f.prototype.masksCache[t.numericInput?u.split("").reverse().join(""):u]=x;x=g.extend(true,{},f.prototype.masksCache[t.numericInput?u.split("").reverse().join(""):u])}}else{x=g.extend(true,{},f.prototype.masksCache[t.numericInput?u.split("").reverse().join(""):u])}return x}}function n(u){u=u.toString();return u}if(g.isFunction(t.mask)){t.mask=t.mask(t)}if(g.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=t.keepStatic===null?true:t.keepStatic;var p="(";g.each(t.numericInput?t.mask.reverse():t.mask,function(u,v){if(p.length>1){p+=")|("}if(v.mask!==undefined&&!g.isFunction(v.mask)){p+=n(v.mask)}else{p+=n(v)}});p+=")";return r(p,t.mask)}else{t.mask=t.mask.pop()}}if(t.mask){if(t.mask.mask!==undefined&&!g.isFunction(t.mask.mask)){o=r(n(t.mask.mask),t.mask)}else{o=r(n(t.mask),t.mask)}}return o}var c=navigator.userAgent,b=/mobile/i.test(c),a=/iemobile/i.test(c),k=/iphone/i.test(c)&&!a,d=/android.*safari.*/i.test(c)&&!a;function h(x,G,U){var ap=false,S,ay,an,ai=false,v=false,H=false,z,y=true;function ax(aN,aM,aF){aM=aM||0;var aG=[],aH,aL=0,aK,aI,aJ=s();do{if(aN===true&&L().validPositions[aL]){var aE=L().validPositions[aL];aK=aE.match;aH=aE.locator.slice();aG.push(aF===true?aE.input:aB(aL,aK))}else{aI=F(aL,aH,aL-1);aK=aI.match;aH=aI.locator.slice();if(U.jitMasking===false||aL<aJ||(isFinite(U.jitMasking)&&U.jitMasking>aL)){aG.push(aB(aL,aK))}}aL++}while((z===undefined||aL-1<z)&&aK.fn!==null||(aK.fn===null&&aK.def!=="")||aM>=aL);if(aG[aG.length-1]===""){aG.pop()}return aG}function L(){return G}function O(aE){var aF=L();aF.buffer=undefined;if(aE!==true){aF.tests={};aF._buffer=undefined;aF.validPositions={};aF.p=0}}function s(aF,aG){var aJ=-1,aK=-1,aH=L().validPositions;if(aF===undefined){aF=-1}for(var aE in aH){var aI=parseInt(aE);if(aH[aI]&&(aG||aH[aI].match.fn!==null)){if(aI<=aF){aJ=aI}if(aI>=aF){aK=aI}}}return(aJ!==-1&&(aF-aJ)>1)||aK<aF?aJ:aK}function C(aN,aO,aI,aK){if(aK||(U.insertMode&&L().validPositions[aN]!==undefined&&aI===undefined)){var aP=g.extend(true,{},L().validPositions),aJ=s(),aH;for(aH=aN;aH<=aJ;aH++){delete L().validPositions[aH]}L().validPositions[aN]=aO;var aE=true,aG,aM=L().validPositions;for(aH=(aG=aN);aH<=aJ;aH++){var aQ=aP[aH];if(aQ!==undefined){var aL=aG,aF=-1;while(aL<al()&&((aQ.match.fn==null&&aM[aH]&&(aM[aH].match.optionalQuantifier===true||aM[aH].match.optionality===true))||aQ.match.fn!=null)){if(aQ.match.fn===null||(!U.keepStatic&&aM[aH]&&(aM[aH+1]!==undefined&&E(aH+1,aM[aH].locator.slice(),aH).length>1||aM[aH].alternation!==undefined))){aL++}else{aL=q(aG)}if(at(aL,aQ.match.def)){var aR=u(aL,aQ.input,true,true);aE=aR!==false;aG=(aR.caret||aR.insert)?s():aL;if(aE){break}}else{aE=aQ.match.fn==null;if(aF===aL){break}aF=aL}}}if(!aE){break}}if(!aE){L().validPositions=g.extend(true,{},aP);O(true);return false}}else{L().validPositions[aN]=aO}O(true);return true}function ab(aE,aF,aI,aJ){function aK(aQ){var aO=L().validPositions[aQ];if(aO!==undefined&&aO.match.fn===null){var aP=L().validPositions[aQ-1],aN=L().validPositions[aQ+1];return aP!==undefined&&aN!==undefined}return false}var aG,aH=aE;L().p=aE;for(aG=aF-1;aG>=aH;aG--){if(L().validPositions[aG]!==undefined){if(aI===true||(!aK(aG)&&U.canClearPosition(L(),aG,s(),aJ,U)!==false)){delete L().validPositions[aG]}}}O(true);for(aG=aH+1;aG<=s();){while(L().validPositions[aH]!==undefined){aH++}var aM=L().validPositions[aH];if(aG<aH){aG=aH+1}if((L().validPositions[aG]!==undefined||!N(aG))&&aM===undefined){var aL=F(aG);if(at(aH,aL.match.def)){if(u(aH,aL.input||aB(aG),true)!==false){delete L().validPositions[aG];aG++}}else{if(!N(aG)){aG++;aH--}}aH++}else{aG++}}O(true)}function F(aK,aH,aG){var aI=L().validPositions[aK];if(aI===undefined){var aF=E(aK,aH,aG),aJ=s(),aL=L().validPositions[aJ]||E(0)[0],aE=(aL.alternation!==undefined)?aL.locator[aL.alternation].toString().split(","):[];for(var aM=0;aM<aF.length;aM++){aI=aF[aM];if(aI.match&&(((U.greedy&&aI.match.optionalQuantifier!==true)||(aI.match.optionality===false||aI.match.newBlockMarker===false)&&aI.match.optionalQuantifier!==true)&&((aL.alternation===undefined||aL.alternation!==aI.alternation)||(aI.locator[aL.alternation]!==undefined&&p(aI.locator[aL.alternation].toString().split(","),aE))))){break}}}return aI}function ah(aE){if(L().validPositions[aE]){return L().validPositions[aE].match}return E(aE)[0].match}function at(aI,aH){var aG=false,aE=E(aI);for(var aF=0;aF<aE.length;aF++){if(aE[aF].match&&aE[aF].match.def===aH){aG=true;break}}return aG}function W(aH,aF){var aE,aG;if(L().tests[aH]||L().validPositions[aH]){g.each(L().tests[aH]||[L().validPositions[aH]],function(aI,aJ){var aK=aJ.alternation?aJ.locator[aJ.alternation].toString().indexOf(aF):-1;if((aG===undefined||aK<aG)&&aK!==-1){aE=aJ;aG=aK}})}return aE}function E(aP,aI,aH){var aF=L().maskToken,aL=aI?aH:0,aT=aI||[0],aK=[],aQ=false,aS,aR=aI?aI.join(""):"";function aE(aZ,aW,aY,aU){function a0(bd,bo,bn){function bk(bs,bt){var br=g.inArray(bs,bt.matches)===0;if(!br){g.each(bt.matches,function(bu,bv){if(bv.isQuantifier===true){br=bk(bs,bt.matches[bu-1]);if(br){return false}}})}return br}function a9(bt,bs){var br=W(bt,bs);return br?br.locator.slice(br.alternation+1):[]}if(aL>10000){throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+L().mask}if(aL===aP&&bd.matches===undefined){aK.push({match:bd,locator:bo.reverse(),cd:aR});return true}else{if(bd.matches!==undefined){if(bd.isGroup&&bn!==bd){bd=a0(aZ.matches[g.inArray(bd,aZ.matches)+1],bo);if(bd){return true}}else{if(bd.isOptional){var bg=bd;bd=aE(bd,aW,bo,bn);if(bd){aS=aK[aK.length-1].match;if(bk(aS,bg)){aQ=true;aL=aP}else{return true}}}else{if(bd.isAlternator){var a4=bd,a1=[],a3,a5=aK.slice(),a7=bo.length;var a8=aW.length>0?aW.shift():-1;if(a8===-1||typeof a8==="string"){var bp=aL,be=aW.slice(),bm=[],bf;if(typeof a8=="string"){bm=a8.split(",")}else{for(bf=0;bf<a4.matches.length;bf++){bm.push(bf)}}for(var ba=0;ba<bm.length;ba++){bf=parseInt(bm[ba]);aK=[];aW=a9(aL,bf);bd=a0(a4.matches[bf]||aZ.matches[bf],[bf].concat(bo),bn)||bd;if(bd!==true&&bd!==undefined&&(bm[bm.length-1]<a4.matches.length)){var bi=g.inArray(bd,aZ.matches)+1;if(aZ.matches.length>bi){bd=a0(aZ.matches[bi],[bi].concat(bo.slice(1,bo.length)),bn);if(bd){bm.push(bi.toString());g.each(aK,function(br,bs){bs.alternation=bo.length-1})}}}a3=aK.slice();aL=bp;aK=[];for(var bl=0;bl<be.length;bl++){aW[bl]=be[bl]}for(var bj=0;bj<a3.length;bj++){var bc=a3[bj];bc.alternation=bc.alternation||a7;for(var bh=0;bh<a1.length;bh++){var a2=a1[bh];if(bc.match.def===a2.match.def&&(typeof a8!=="string"||g.inArray(bc.locator[bc.alternation].toString(),bm)!==-1)){if(bc.match.mask===a2.match.mask){a3.splice(bj,1);bj--}if(a2.locator[bc.alternation].toString().indexOf(bc.locator[bc.alternation])===-1){a2.locator[bc.alternation]=a2.locator[bc.alternation]+","+bc.locator[bc.alternation];a2.alternation=bc.alternation}break}}}a1=a1.concat(a3)}if(typeof a8=="string"){a1=g.map(a1,function(bt,br){if(isFinite(br)){var bw,bs=bt.alternation,bu=bt.locator[bs].toString().split(",");bt.locator[bs]=undefined;bt.alternation=undefined;for(var bv=0;bv<bu.length;bv++){bw=g.inArray(bu[bv],bm)!==-1;if(bw){if(bt.locator[bs]!==undefined){bt.locator[bs]+=",";bt.locator[bs]+=bu[bv]}else{bt.locator[bs]=parseInt(bu[bv])}bt.alternation=bs}}if(bt.locator[bs]!==undefined){return bt}}})}aK=a5.concat(a1);aL=aP;aQ=aK.length>0}else{bd=a0(a4.matches[a8]||aZ.matches[a8],[a8].concat(bo),bn)}if(bd){return true}}else{if(bd.isQuantifier&&bn!==aZ.matches[g.inArray(bd,aZ.matches)-1]){var bq=bd;for(var a6=(aW.length>0)?aW.shift():0;(a6<(isNaN(bq.quantifier.max)?a6+1:bq.quantifier.max))&&aL<=aP;a6++){var bb=aZ.matches[g.inArray(bq,aZ.matches)-1];bd=a0(bb,[a6].concat(bo),bb);if(bd){aS=aK[aK.length-1].match;aS.optionalQuantifier=a6>(bq.quantifier.min-1);if(bk(aS,bb)){if(a6>(bq.quantifier.min-1)){aQ=true;aL=aP;break}else{return true}}else{return true}}}}else{bd=aE(bd,aW,bo,bn);if(bd){return true}}}}}}else{aL++}}}for(var aX=(aW.length>0?aW.shift():0);aX<aZ.matches.length;aX++){if(aZ.matches[aX].isQuantifier!==true){var aV=a0(aZ.matches[aX],[aX].concat(aY),aU);if(aV&&aL===aP){return aV}else{if(aL>aP){break}}}}}function aM(aU){var aV=aU[0]||aU;return aV.locator.slice()}if(aP>-1){if(aI===undefined){var aO=aP-1,aN;while((aN=L().validPositions[aO]||L().tests[aO])===undefined&&aO>-1){aO--}if(aN!==undefined&&aO>-1){aT=aM(aN);aR=aT.join("");aN=aN[0]||aN;aL=aO}}if(L().tests[aP]&&L().tests[aP][0].cd===aR){return L().tests[aP]}for(var aG=aT.shift();aG<aF.length;aG++){var aJ=aE(aF[aG],aT,[aG]);if((aJ&&aL===aP)||aL>aP){break}}}if(aK.length===0||aQ){aK.push({match:{fn:null,cardinality:0,optionality:true,casing:null,def:""},locator:[]})}L().tests[aP]=g.extend(true,[],aK);return L().tests[aP]}function aD(){if(L()._buffer===undefined){L()._buffer=ax(false,1)}return L()._buffer}function o(aE){if(L().buffer===undefined||aE===true){if(aE===true){for(var aF in L().tests){if(L().validPositions[aF]===undefined){delete L().tests[aF]}}}L().buffer=ax(true,s(),true)}return L().buffer}function ac(aH,aF,aE){var aG;aE=aE;if(aH===true){O();aH=0;aF=aE.length}else{for(aG=aH;aG<aF;aG++){delete L().validPositions[aG];delete L().tests[aG]}}for(aG=aH;aG<aF;aG++){O(true);if(aE[aG]!==U.skipOptionalPartCharacter){u(aG,aE[aG],true,true)}}}function aa(aE,aF){switch(aF.casing){case"upper":aE=aE.toUpperCase();break;case"lower":aE=aE.toLowerCase();break}return aE}function p(aG,aF){var aI=U.greedy?aF:aF.slice(0,1),aE=false;for(var aH=0;aH<aG.length;aH++){if(g.inArray(aG[aH],aI)!==-1){aE=true;break}}return aE}function u(aP,aO,aS,aK){function aL(aV){return ap?(aV.begin-aV.end)>1||((aV.begin-aV.end)===1&&U.insertMode):(aV.end-aV.begin)>1||((aV.end-aV.begin)===1&&U.insertMode)}aS=aS===true;var aR=aP;if(aP.begin!==undefined){aR=ap&&!aL(aP)?aP.end:aP.begin}function aH(aW,aZ,aY,aV){var aX=false;g.each(E(aW),function(a9,a2){var a7=a2.match;var a3=aZ?1:0,a1="";for(var a5=a7.cardinality;a5>a3;a5--){a1+=T(aW-(a5-1))}if(aZ){a1+=aZ}o(true);aX=a7.fn!=null?a7.fn.test(a1,L(),aW,aY,U,aL(aP)):(aZ===a7.def||aZ===U.skipOptionalPartCharacter)&&a7.def!==""?{c:a7.placeholder||a7.def,pos:aW}:false;if(aX!==false){var a4=aX.c!==undefined?aX.c:aZ;a4=(a4===U.skipOptionalPartCharacter&&a7.fn===null)?(a7.placeholder||a7.def):a4;var a0=aW,a8=o();if(aX.remove!==undefined){if(!g.isArray(aX.remove)){aX.remove=[aX.remove]}g.each(aX.remove.sort(function(bb,ba){return ba-bb}),function(ba,bb){ab(bb,bb+1,true)})}if(aX.insert!==undefined){if(!g.isArray(aX.insert)){aX.insert=[aX.insert]}g.each(aX.insert.sort(function(bb,ba){return bb-ba}),function(ba,bb){u(bb.pos,bb.c,false,aV)})}if(aX.refreshFromBuffer){var a6=aX.refreshFromBuffer;aY=true;ac(a6===true?a6:a6.start,a6.end,a8);if(aX.pos===undefined&&aX.c===undefined){aX.pos=s();return false}a0=aX.pos!==undefined?aX.pos:aW;if(a0!==aW){aX=g.extend(aX,u(a0,a4,true,aV));return false}}else{if(aX!==true&&aX.pos!==undefined&&aX.pos!==aW){a0=aX.pos;ac(aW,a0,o().slice());if(a0!==aW){aX=g.extend(aX,u(a0,a4,true));return false}}}if(aX!==true&&aX.pos===undefined&&aX.c===undefined){return false}if(a9>0){O(true)}if(!C(a0,g.extend({},a2,{input:aa(a4,a7)}),aV,aL(aP))){aX=false}return false}});return aX}function aJ(a1,bg,bk,be){var aW=g.extend(true,{},L().validPositions),aY=g.extend(true,{},L().tests),a4,bi,a0,a2,bf,aX;for(var a3=s();a3>=0;a3--){a2=L().validPositions[a3];if(a2&&a2.alternation!==undefined){a4=a3;bi=L().validPositions[a4].alternation;if(F(a4).locator[a2.alternation]!==a2.locator[a2.alternation]){break}}}if(bi!==undefined){a4=parseInt(a4);for(var a8 in L().validPositions){a8=parseInt(a8);a2=L().validPositions[a8];if(a8>=a4&&a2.alternation!==undefined){var bh;if(a4===0){bh=[];g.each(L().tests[a4],function(bl,bm){if(bm.locator[bi]!==undefined){bh=bh.concat(bm.locator[bi].toString().split(","))}})}else{bh=L().validPositions[a4].locator[bi].toString().split(",")}var ba=a2.locator[bi]!==undefined?a2.locator[bi]:bh[0];if(ba.length>0){ba=ba.split(",")[0]}for(var a7=0;a7<bh.length;a7++){var bd=[],bc=0,bb=0;if(ba<bh[a7]){var aZ,bj;for(var a9=a8;a9>=0;a9--){aZ=L().validPositions[a9];if(aZ!==undefined){var aV=W(a9,bh[a7]);if(L().validPositions[a9].match.def!==aV.match.def){bd.push(L().validPositions[a9].input);L().validPositions[a9]=aV;L().validPositions[a9].input=aB(a9);if(L().validPositions[a9].match.fn===null){bb++}aZ=aV}bj=aZ.locator[bi];aZ.locator[bi]=parseInt(bh[a7]);break}}if(ba!==aZ.locator[bi]){for(bf=a8+1;bf<s(undefined,true)+1;bf++){aX=L().validPositions[bf];if(aX&&aX.match.fn!=null){bd.push(aX.input)}else{if(bf<a1){bc++}}delete L().validPositions[bf];delete L().tests[bf]}O(true);U.keepStatic=!U.keepStatic;a0=true;while(bd.length>0){var a6=bd.shift();if(a6!==U.skipOptionalPartCharacter){if(!(a0=u(s(undefined,true)+1,a6,false,be))){break}}}aZ.alternation=bi;aZ.locator[bi]=bj;if(a0){var a5=s(a1)+1;for(bf=a8+1;bf<s()+1;bf++){aX=L().validPositions[bf];if((aX===undefined||aX.match.fn==null)&&bf<a1){bb++}}a1=a1+(bb-bc);a0=u(a1>a5?a5:a1,bg,bk,be)}U.keepStatic=!U.keepStatic;if(!a0){O();L().validPositions=g.extend(true,{},aW);L().tests=g.extend(true,{},aY)}else{return a0}}}}break}}}return false}function aM(aZ,a1){var aW=L().validPositions[a1],a0=aW.locator,a3=a0.length;for(var aV=aZ;aV<a1;aV++){if(L().validPositions[aV]===undefined&&!N(aV,true)){var aX=E(aV),aY=aX[0],a2=-1;g.each(aX,function(a5,a4){for(var a6=0;a6<a3;a6++){if(a4.locator[a6]!==undefined&&p(a4.locator[a6].toString().split(","),a0[a6].toString().split(","))){if(a2<a6){a2=a6;aY=a4}}else{break}}});C(aV,g.extend({},aY,{input:aY.match.placeholder||aY.match.def}),true)}}}var aU=false,aQ=g.extend(true,{},L().validPositions);for(var aN=aR-1;aN>-1;aN--){if(L().validPositions[aN]){break}}var aI;for(aN++;aN<aR;aN++){if(L().validPositions[aN]===undefined&&(U.jitMasking===false||U.jitMasking>aN)&&((aI=F(aN)).match.def===U.radixPointDefinitionSymbol||!N(aN,true)||(g.inArray(U.radixPoint,o())<aN&&aI.match.fn&&aI.match.fn.test(aB(aN),L(),aN,false,U)))){aH(s(aN,true)+1,aI.match.placeholder||(aI.match.fn==null?aI.match.def:(aB(aN)!==""?aB(aN):o()[aN])),true,aK)}}if(aL(aP)){V(undefined,f.keyCode.DELETE,aP);aR=L().p}if(aR<al()){aU=aH(aR,aO,aS,aK);if((!aS||aK===true)&&aU===false){var aE=L().validPositions[aR];if(aE&&aE.match.fn===null&&(aE.match.def===aO||aO===U.skipOptionalPartCharacter)){aU={caret:q(aR)}}else{if((U.insertMode||L().validPositions[q(aR)]===undefined)&&!N(aR,true)){var aT=F(aR).match;aT=aT.placeholder||aT.def;aH(aR,aT,aS,aK);for(var aG=aR+1,aF=q(aR);aG<=aF;aG++){aU=aH(aG,aO,aS,aK);if(aU!==false){aM(aR,aG);aR=aG;break}}}}}}if(aU===false&&U.keepStatic){aU=aJ(aR,aO,aS,aK)}if(aU===true){aU={pos:aR}}if(g.isFunction(U.postValidation)&&aU!==false&&!aS&&aK!==true){aU=U.postValidation(o(true),aU,U)?aU:false}if(aU.pos===undefined){aU.pos=aR}if(aU===false){O(true);L().validPositions=g.extend(true,{},aQ)}return aU}function N(aH,aE){var aG;if(aE){aG=F(aH).match;if(aG.def===""){aG=ah(aH)}}else{aG=ah(aH)}if(aG.fn!=null){return aG.fn}else{if(aE!==true&&aH>-1&&!U.keepStatic&&L().validPositions[aH]===undefined){var aF=E(aH);return aF.length>2}}return false}function al(){var aJ;z=ay!==undefined?ay.maxLength:undefined;if(z===-1){z=undefined}var aI,aH=s(),aE=L().validPositions[aH],aG=aE!==undefined?aE.locator.slice():undefined;for(aI=aH+1;aE===undefined||(aE.match.fn!==null||(aE.match.fn===null&&aE.match.def!==""));aI++){aE=F(aI,aG,aI-1);aG=aE.locator.slice()}var aF=ah(aI-1);aJ=(aF.def!=="")?aI:aI-1;return(z===undefined||aJ<z)?aJ:z}function q(aH,aG){var aF=al();if(aH>=aF){return aF}var aE=aH;while(++aE<aF&&((aG===true&&(ah(aE).newBlockMarker!==true||!N(aE)))||(aG!==true&&!N(aE)&&(U.nojumps!==true||U.nojumpsThreshold>aE)))){}return aE}function av(aG,aF){var aE=aG;if(aE<=0){return 0}while(--aE>0&&((aF===true&&ah(aE).newBlockMarker!==true)||(aF!==true&&!N(aE)))){}return aE}function T(aE){return L().validPositions[aE]===undefined?aB(aE):L().validPositions[aE].input}function ae(aG,aF,aH,aK,aJ){if(aK&&g.isFunction(U.onBeforeWrite)){var aE=U.onBeforeWrite(aK,aF,aH,U);if(aE){if(aE.refreshFromBuffer){var aI=aE.refreshFromBuffer;ac(aI===true?aI:aI.start,aI.end,aE.buffer||aF);aF=o(true)}if(aH!==undefined){aH=aE.caret!==undefined?aE.caret:aH}}}aG.inputmask._valueSet(aF.join(""));if(aH!==undefined&&(aK===undefined||aK.type!=="blur")){J(aG,aH)}if(aJ===true){v=true;g(aG).trigger("input")}}function aB(aJ,aI){aI=aI||ah(aJ);if(aI.placeholder!==undefined){return aI.placeholder}else{if(aI.fn===null){if(aJ>-1&&!U.keepStatic&&L().validPositions[aJ]===undefined){var aG=E(aJ),aH=0,aF;if(aG.length>2){for(var aE=0;aE<aG.length;aE++){if(aG[aE].match.optionality!==true&&aG[aE].match.optionalQuantifier!==true&&(aG[aE].match.fn===null||(aF===undefined||aG[aE].match.fn.test(aF.match.def,L(),aJ,true,U)!==false))){aH++;if(aG[aE].match.fn===null){aF=aG[aE]}if(aH>1){return U.placeholder.charAt(aJ%U.placeholder.length)}}}}}return aI.def}}return U.placeholder.charAt(aJ%U.placeholder.length)}function A(aL,aK,aM,aJ){var aE=aJ.slice(),aH="",aF=0,aO;function aN(){var aR=false;var aS=aD().slice(aF,q(aF)).join("").indexOf(aH);if(aS!==-1&&!N(aF)){aR=true;var aQ=aD().slice(aF,aF+aS);for(var aP=0;aP<aQ.length;aP++){if(aQ[aP]!==" "){aR=false;break}}}return aR}O();L().p=q(-1);if(!aM){if(U.autoUnmask!==true){var aI=aD().slice(0,q(-1)).join(""),aG=aE.join("").match(new RegExp("^"+f.escapeRegex(aI),"g"));if(aG&&aG.length>0){aE.splice(0,aG.length*aI.length);aF=q(aF)}}else{aF=q(aF)}}g.each(aE,function(aR,aP){if(aP!==undefined){var aQ=new g.Event("keypress");aQ.which=aP.charCodeAt(0);aH+=aP;var aW=s(undefined,true),aT=L().validPositions[aW],aS=F(aW+1,aT?aT.locator.slice():undefined,aW);if(!aN()||aM||U.autoUnmask){var aV=aM?aR:(aS.match.fn==null&&aS.match.optionality&&(aW+1)<L().p?aW+1:L().p);aO=K.call(aL,aQ,true,false,aM,aV);aF=aV+1;aH=""}else{aO=K.call(aL,aQ,true,false,true,aW+1)}if(!aM&&g.isFunction(U.onBeforeWrite)){aO=U.onBeforeWrite(aQ,o(),aO.forwardPosition,U);if(aO&&aO.refreshFromBuffer){var aU=aO.refreshFromBuffer;ac(aU===true?aU:aU.start,aU.end,aO.buffer);O(true);if(aO.caret){L().p=aO.caret}}}}});if(aK){ae(aL,o(),document.activeElement===aL?q(s(0)):undefined,new g.Event("checkval"))}}function n(aE){if(aE&&aE.inputmask===undefined){return aE.value}var aH=[],aJ=L().validPositions;for(var aI in aJ){if(aJ[aI].match&&aJ[aI].match.fn!=null){aH.push(aJ[aI].input)}}var aF=aH.length===0?null:(ap?aH.reverse():aH).join("");if(aF!==null){var aG=(ap?o().slice().reverse():o()).join("");if(g.isFunction(U.onUnMask)){aF=(U.onUnMask(aG,aF,U)||aF)}}return aF}function J(aM,aG,aI,aE){function aJ(aO){if(aE!==true&&ap&&typeof aO==="number"&&(!U.greedy||U.placeholder!=="")){var aN=o().join("").length;aO=aN-aO}return aO}var aL;if(typeof aG==="number"){aG=aJ(aG);aI=aJ(aI);aI=(typeof aI=="number")?aI:aG;var aK=parseInt(((aM.ownerDocument.defaultView||window).getComputedStyle?(aM.ownerDocument.defaultView||window).getComputedStyle(aM,null):aM.currentStyle).fontSize)*aI;aM.scrollLeft=aK>aM.scrollWidth?aK:0;if(!b&&U.insertMode===false&&aG===aI){aI++}if(aM.setSelectionRange){aM.selectionStart=aG;aM.selectionEnd=aI}else{if(window.getSelection){aL=document.createRange();if(aM.firstChild===undefined||aM.firstChild===null){var aH=document.createTextNode("");aM.appendChild(aH)}aL.setStart(aM.firstChild,aG<aM.inputmask._valueGet().length?aG:aM.inputmask._valueGet().length);aL.setEnd(aM.firstChild,aI<aM.inputmask._valueGet().length?aI:aM.inputmask._valueGet().length);aL.collapse(true);var aF=window.getSelection();aF.removeAllRanges();aF.addRange(aL)}else{if(aM.createTextRange){aL=aM.createTextRange();aL.collapse(true);aL.moveEnd("character",aI);aL.moveStart("character",aG);aL.select()}}}}else{if(aM.setSelectionRange){aG=aM.selectionStart;aI=aM.selectionEnd}else{if(window.getSelection){aL=window.getSelection().getRangeAt(0);if(aL.commonAncestorContainer.parentNode===aM||aL.commonAncestorContainer===aM){aG=aL.startOffset;aI=aL.endOffset}}else{if(document.selection&&document.selection.createRange){aL=document.selection.createRange();aG=0-aL.duplicate().moveStart("character",-aM.inputmask._valueGet().length);aI=aG+aL.text.length}}}return{begin:aJ(aG),end:aJ(aI)}}}function D(aI){var aG=o(),aF=aG.length,aM,aL=s(),aJ={},aN=L().validPositions[aL],aH=aN!==undefined?aN.locator.slice():undefined,aK;for(aM=aL+1;aM<aG.length;aM++){aK=F(aM,aH,aM-1);aH=aK.locator.slice();aJ[aM]=g.extend(true,{},aK)}var aE=aN&&aN.alternation!==undefined?aN.locator[aN.alternation]:undefined;for(aM=aF-1;aM>aL;aM--){aK=aJ[aM];if((aK.match.optionality||aK.match.optionalQuantifier||(aE&&((aE!==aJ[aM].locator[aN.alternation]&&aK.match.fn!=null)||(aK.match.fn===null&&aK.locator[aN.alternation]&&p(aK.locator[aN.alternation].toString().split(","),aE.toString().split(","))&&E(aM)[0].def!==""))))&&aG[aM]===aB(aM,aK.match)){aF--}else{break}}return aI?{l:aF,def:aJ[aF]?aJ[aF].match:undefined}:aF}function aw(aF){var aG=D(),aE=aF.length-1;for(;aE>aG;aE--){if(N(aE)){break}}aF.splice(aG,aE+1-aG);return aF}function ad(aF){if(g.isFunction(U.isComplete)){return U.isComplete(aF,U)}if(U.repeat==="*"){return undefined}var aE=false,aG=D(true),aI=av(aG.l);if(aG.def===undefined||aG.def.newBlockMarker||aG.def.optionality||aG.def.optionalQuantifier){aE=true;for(var aH=0;aH<=aI;aH++){var aJ=F(aH).match;if((aJ.fn!==null&&L().validPositions[aH]===undefined&&aJ.optionality!==true&&aJ.optionalQuantifier!==true)||(aJ.fn===null&&aF[aH]!==aB(aH,aJ))){aE=false;break}}}return aE}var Y={on:function(aF,aE,aG){var aH=function(aL){if(this.inputmask===undefined&&this.nodeName!=="FORM"){var aI=g.data(this,"_inputmask_opts");if(aI){(new f(aI)).mask(this)}else{Y.off(this)}}else{if(aL.type!=="setvalue"&&(this.disabled||(this.readOnly&&!(aL.type==="keydown"&&(aL.ctrlKey&&aL.keyCode===67)||(U.tabThrough===false&&aL.keyCode===f.keyCode.TAB))))){aL.preventDefault()}else{switch(aL.type){case"input":if(v===true){v=false;return aL.preventDefault()}break;case"keydown":ai=false;v=false;break;case"keypress":if(ai===true){return aL.preventDefault()}ai=true;break;case"click":if(a){var aK=this;setTimeout(function(){aG.apply(aK,arguments)},0);return false}break}var aJ=aG.apply(this,arguments);if(aJ===false){aL.preventDefault();aL.stopPropagation()}return aJ}}};aF.inputmask.events[aE]=aF.inputmask.events[aE]||[];aF.inputmask.events[aE].push(aH);if(g.inArray(aE,["submit","reset"])!==-1){if(aF.form!=null){g(aF.form).on(aE,aH)}}else{g(aF).on(aE,aH)}},off:function(aE,aG){if(aE.inputmask&&aE.inputmask.events){var aF;if(aG){aF=[];aF[aG]=aE.inputmask.events[aG]}else{aF=aE.inputmask.events}g.each(aF,function(aH,aJ){while(aJ.length>0){var aI=aJ.pop();if(g.inArray(aH,["submit","reset"])!==-1){if(aE.form!=null){g(aE.form).off(aH,aI)}}else{g(aE).off(aH,aI)}}delete aE.inputmask.events[aH]})}}};function ao(aK){var aJ;var aG;function aF(aN){if(g.valHooks&&(g.valHooks[aN]===undefined||g.valHooks[aN].inputmaskpatch!==true)){var aM=g.valHooks[aN]&&g.valHooks[aN].get?g.valHooks[aN].get:function(aP){return aP.value};var aO=g.valHooks[aN]&&g.valHooks[aN].set?g.valHooks[aN].set:function(aP,aQ){aP.value=aQ;return aP};g.valHooks[aN]={get:function(aQ){if(aQ.inputmask){if(aQ.inputmask.opts.autoUnmask){return aQ.inputmask.unmaskedvalue()}else{var aP=aM(aQ);return s()!==-1||U.nullable!==true?aP:""}}else{return aM(aQ)}},set:function(aR,aS){var aQ=g(aR),aP;aP=aO(aR,aS);if(aR.inputmask){aQ.trigger("setvalue")}return aP},inputmaskpatch:true}}}function aE(){if(this.inputmask){return this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():(s()!==-1||U.nullable!==true?(document.activeElement===this&&U.clearMaskOnLostFocus?(ap?aw(o().slice()).reverse():aw(o().slice())).join(""):aJ.call(this)):"")}else{return aJ.call(this)}}function aL(aM){aG.call(this,aM);if(this.inputmask){g(this).trigger("setvalue")}}function aH(aM){Y.on(aM,"mouseenter",function(aO){var aQ=g(this),aN=this,aP=aN.inputmask._valueGet();if(aP!==o().join("")){aQ.trigger("setvalue")}})}if(!aK.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){var aI=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(aK),"value"):undefined;if(aI&&aI.get&&aI.set){aJ=aI.get;aG=aI.set;Object.defineProperty(aK,"value",{get:aE,set:aL,configurable:true})}else{if(aK.tagName!=="INPUT"){aJ=function(){return this.textContent};aG=function(aM){this.textContent=aM};Object.defineProperty(aK,"value",{get:aE,set:aL,configurable:true})}}}else{if(document.__lookupGetter__&&aK.__lookupGetter__("value")){aJ=aK.__lookupGetter__("value");aG=aK.__lookupSetter__("value");aK.__defineGetter__("value",aE);aK.__defineSetter__("value",aL)}}if(aJ===undefined){aJ=function(){return aK.value};aG=function(aM){aK.value=aM};aF(aK.type);aH(aK)}aK.inputmask.__valueGet=aJ;aK.inputmask._valueGet=function(aM){return ap&&aM!==true?aJ.call(this.el).split("").reverse().join(""):aJ.call(this.el)};aK.inputmask.__valueSet=aG;aK.inputmask._valueSet=function(aM,aN){aG.call(this.el,(aM===null||aM===undefined)?"":((aN!==true&&ap)?aM.split("").reverse().join(""):aM))}}}function V(aG,aF,aK,aE){function aI(){if(U.keepStatic){O(true);var aM=[],aN,aO=g.extend(true,{},L().validPositions);for(aN=s();aN>=0;aN--){var aP=L().validPositions[aN];if(aP){if(aP.match.fn!=null){aM.push(aP.input)}delete L().validPositions[aN];if(aP.alternation!==undefined&&aP.locator[aP.alternation]===F(aN).locator[aP.alternation]){break}}}if(aN>-1){while(aM.length>0){L().p=q(s());var aL=new g.Event("keypress");aL.which=aM.pop().charCodeAt(0);K.call(aG,aL,true,false,false,L().p)}}else{L().validPositions=g.extend(true,{},aO)}}}if(U.numericInput||ap){if(aF===f.keyCode.BACKSPACE){aF=f.keyCode.DELETE}else{if(aF===f.keyCode.DELETE){aF=f.keyCode.BACKSPACE}}if(ap){var aH=aK.end;aK.end=aK.begin;aK.begin=aH}}if(aF===f.keyCode.BACKSPACE&&(aK.end-aK.begin<1||U.insertMode===false)){aK.begin=av(aK.begin);if(L().validPositions[aK.begin]!==undefined&&(L().validPositions[aK.begin].input===U.groupSeparator||L().validPositions[aK.begin].input===U.radixPoint)){aK.begin--}}else{if(aF===f.keyCode.DELETE&&aK.begin===aK.end){aK.end=N(aK.end)?aK.end+1:q(aK.end)+1;if(L().validPositions[aK.begin]!==undefined&&(L().validPositions[aK.begin].input===U.groupSeparator||L().validPositions[aK.begin].input===U.radixPoint)){aK.end++}}}ab(aK.begin,aK.end,false,aE);if(aE!==true){aI()}var aJ=s(aK.begin);if(aJ<aK.begin){if(aJ===-1){O()}L().p=q(aJ)}else{if(aE!==true){L().p=aK.begin}}}function aA(aH){var aF=this,aJ=g(aF),aE=aH.keyCode,aI=J(aF);if(aE===f.keyCode.BACKSPACE||aE===f.keyCode.DELETE||(k&&aE===f.keyCode.BACKSPACE_SAFARI)||(aH.ctrlKey&&aE===f.keyCode.X&&!l("cut"))){aH.preventDefault();V(aF,aE,aI);ae(aF,o(),L().p,aH,S!==o().join(""));if(aF.inputmask._valueGet()===aD().join("")){aJ.trigger("cleared")}else{if(ad(o())===true){aJ.trigger("complete")}}if(U.showTooltip){aF.title=U.tooltip||L().mask}}else{if(aE===f.keyCode.END||aE===f.keyCode.PAGE_DOWN){aH.preventDefault();var aG=q(s());if(!U.insertMode&&aG===al()&&!aH.shiftKey){aG--}J(aF,aH.shiftKey?aI.begin:aG,aG,true)}else{if((aE===f.keyCode.HOME&&!aH.shiftKey)||aE===f.keyCode.PAGE_UP){aH.preventDefault();J(aF,0,aH.shiftKey?aI.begin:0,true)}else{if(((U.undoOnEscape&&aE===f.keyCode.ESCAPE)||(aE===90&&aH.ctrlKey))&&aH.altKey!==true){A(aF,true,false,S.split(""));aJ.trigger("click")}else{if(aE===f.keyCode.INSERT&&!(aH.shiftKey||aH.ctrlKey)){U.insertMode=!U.insertMode;J(aF,!U.insertMode&&aI.begin===al()?aI.begin-1:aI.begin)}else{if(U.tabThrough===true&&aE===f.keyCode.TAB){if(aH.shiftKey===true){if(ah(aI.begin).fn===null){aI.begin=q(aI.begin)}aI.end=av(aI.begin,true);aI.begin=av(aI.end,true)}else{aI.begin=q(aI.begin,true);aI.end=q(aI.begin,true);if(aI.end<al()){aI.end--}}if(aI.begin<al()){aH.preventDefault();J(aF,aI.begin,aI.end)}}else{if(U.insertMode===false&&!aH.shiftKey){if(aE===f.keyCode.RIGHT){setTimeout(function(){var aK=J(aF);J(aF,aK.begin)},0)}else{if(aE===f.keyCode.LEFT){setTimeout(function(){var aK=J(aF);J(aF,ap?aK.begin+1:aK.begin-1)},0)}}}}}}}}}U.onKeyDown.call(this,aH,o(),J(aF).begin,U);H=g.inArray(aE,U.ignorables)!==-1}function K(aK,aG,aP,aR,aS){var aQ=this,aO=g(aQ),aH=aK.which||aK.charCode||aK.keyCode;if(aG!==true&&(!(aK.ctrlKey&&aK.altKey)&&(aK.ctrlKey||aK.metaKey||H))){if(aH===f.keyCode.ENTER&&S!==o().join("")){S=o().join("");setTimeout(function(){aO.trigger("change")},0)}return true}else{if(aH){if(aH===46&&aK.shiftKey===false&&U.radixPoint===","){aH=44}var aN=aG?{begin:aS,end:aS}:J(aQ),aF,aM=String.fromCharCode(aH);L().writeOutBuffer=true;var aJ=u(aN,aM,aR);if(aJ!==false){var aE=aJ.pos;O(true);if(aJ.caret!==undefined){aF=aJ.caret}else{var aL=L().validPositions;if(!U.keepStatic&&(aL[aE+1]!==undefined&&E(aE+1,aL[aE].locator.slice(),aE).length>1||aL[aE].alternation!==undefined)){aF=aE+1}else{aF=q(aE)}}L().p=aF}if(aP!==false){var aT=this;setTimeout(function(){U.onKeyValidation.call(aT,aH,aJ,U)},0);if(L().writeOutBuffer&&aJ!==false){var aI=o();ae(aQ,aI,(U.numericInput&&aJ.caret===undefined)?av(aF):aF,aK,aG!==true);if(aG!==true){setTimeout(function(){if(ad(aI)===true){aO.trigger("complete")}},0)}}}if(U.showTooltip){aQ.title=U.tooltip||L().mask}aK.preventDefault();if(aG){aJ.forwardPosition=aF;return aJ}}}}function am(aJ){var aN=this,aL=aJ.originalEvent||aJ,aK=g(aN),aF=aN.inputmask._valueGet(true),aI=J(aN),aE;if(ap){aE=aI.end;aI.end=aI.begin;aI.begin=aE}var aH=aF.substr(0,aI.begin),aG=aF.substr(aI.end,aF.length);if(aH===(ap?aD().reverse():aD()).slice(0,aI.begin).join("")){aH=""}if(aG===(ap?aD().reverse():aD()).slice(aI.end).join("")){aG=""}if(ap){aE=aH;aH=aG;aG=aE}if(window.clipboardData&&window.clipboardData.getData){aF=aH+window.clipboardData.getData("Text")+aG}else{if(aL.clipboardData&&aL.clipboardData.getData){aF=aH+aL.clipboardData.getData("text/plain")+aG}}var aM=aF;if(g.isFunction(U.onBeforePaste)){aM=U.onBeforePaste(aF,U);if(aM===false){return aJ.preventDefault()}if(!aM){aM=aF}}A(aN,false,false,ap?aM.split("").reverse():aM.toString().split(""));ae(aN,o(),q(s()),aJ,true);if(ad(o())===true){aK.trigger("complete")}return aJ.preventDefault()}function I(aK){var aG=this,aE=aG.inputmask._valueGet();if(o().join("")!==aE){var aI=J(aG);aE=aE.replace(new RegExp("("+f.escapeRegex(aD().join(""))+")*"),"");if(a){var aJ=aE.replace(o().join(""),"");if(aJ.length===1){var aF=new g.Event("keypress");aF.which=aJ.charCodeAt(0);K.call(aG,aF,true,true,false,L().validPositions[aI.begin-1]?aI.begin:aI.begin-1);return false}}if(aI.begin>aE.length){J(aG,aE.length);aI=J(aG)}if((o().length-aE.length)===1&&aE.charAt(aI.begin)!==o()[aI.begin]&&aE.charAt(aI.begin+1)!==o()[aI.begin]&&!N(aI.begin)){aK.keyCode=f.keyCode.BACKSPACE;aA.call(aG,aK)}else{var aL=s()+1;var aH=o().slice(aL).join("");while(aE.match(f.escapeRegex(aH)+"$")===null){aH=aH.slice(1)}aE=aE.replace(aH,"");aE=aE.split("");A(aG,true,false,aE);if(ad(o())===true){g(aG).trigger("complete")}}aK.preventDefault()}}function R(aG){var aE=this,aF=aE.inputmask._valueGet();A(aE,true,false,(g.isFunction(U.onBeforeMask)?(U.onBeforeMask(aF,U)||aF):aF).split(""));S=o().join("");if((U.clearMaskOnLostFocus||U.clearIncomplete)&&aE.inputmask._valueGet()===aD().join("")){aE.inputmask._valueSet("")}}function Z(aF){var aE=this,aG=aE.inputmask._valueGet();if(U.showMaskOnFocus&&(!U.showMaskOnHover||(U.showMaskOnHover&&aG===""))){if(aE.inputmask._valueGet()!==o().join("")){ae(aE,o(),q(s()))}}else{if(y===false){J(aE,q(s()))}}if(U.positionCaretOnTab===true){setTimeout(function(){J(aE,q(s()))},0)}S=o().join("")}function az(aG){var aF=this;y=false;if(U.clearMaskOnLostFocus&&document.activeElement!==aF){var aE=o().slice(),aH=aF.inputmask._valueGet();if(aH!==aF.getAttribute("placeholder")&&aH!==""){if(s()===-1&&aH===aD().join("")){aE=[]}else{aw(aE)}ae(aF,aE)}}}function aC(aG){function aF(aJ){if(U.radixFocus&&U.radixPoint!==""){var aK=L().validPositions;if(aK[aJ]===undefined||(aK[aJ].input===aB(aJ))){if(aJ<q(-1)){return true}var aH=g.inArray(U.radixPoint,o());if(aH!==-1){for(var aI in aK){if(aH<aI&&aK[aI].input!==aB(aI)){return false}}return true}}}return false}var aE=this;setTimeout(function(){if(document.activeElement===aE){var aK=J(aE);if(aK.begin===aK.end){if(aF(aK.begin)){J(aE,U.numericInput?q(g.inArray(U.radixPoint,o())):g.inArray(U.radixPoint,o()))}else{var aJ=aK.begin,aI=s(aJ,true),aH=q(aI);if(aJ<aH){J(aE,!N(aJ)&&!N(aJ-1)?q(aJ):aJ)}else{var aL=aB(aH);if((aL!==""&&o()[aH]!==aL)||(!N(aH,true)&&ah(aH).def===aL)){aH=q(aH)}J(aE,aH)}}}}},0)}function t(aF){var aE=this;setTimeout(function(){J(aE,0,q(s()))},0)}function ag(aH){var aE=this,aK=g(aE),aJ=J(aE),aG=aH.originalEvent||aH;var aI=window.clipboardData||aG.clipboardData,aF=ap?o().slice(aJ.end,aJ.begin):o().slice(aJ.begin,aJ.end);aI.setData("text",ap?aF.reverse().join(""):aF.join(""));if(document.execCommand){document.execCommand("copy")}V(aE,f.keyCode.DELETE,aJ);ae(aE,o(),L().p,aH,S!==o().join(""));if(aE.inputmask._valueGet()===aD().join("")){aK.trigger("cleared")}if(U.showTooltip){aE.title=U.tooltip||L().mask}}function w(aG){var aI=g(this),aF=this;if(aF.inputmask){var aH=aF.inputmask._valueGet(),aE=o().slice();if(S!==aE.join("")){setTimeout(function(){aI.trigger("change");S=aE.join("")},0)}if(aH!==""){if(U.clearMaskOnLostFocus){if(s()===-1&&aH===aD().join("")){aE=[]}else{aw(aE)}}if(ad(aE)===false){setTimeout(function(){aI.trigger("incomplete")},0);if(U.clearIncomplete){O();if(U.clearMaskOnLostFocus){aE=[]}else{aE=aD().slice()}}}ae(aF,aE,undefined,aG)}}}function Q(aF){var aE=this;y=true;if(document.activeElement!==aE&&U.showMaskOnHover){if(aE.inputmask._valueGet()!==o().join("")){ae(aE,o())}}}function ak(aE){if(S!==o().join("")){an.trigger("change")}if(U.clearMaskOnLostFocus&&s()===-1&&ay.inputmask._valueGet&&ay.inputmask._valueGet()===aD().join("")){ay.inputmask._valueSet("")}if(U.removeMaskOnSubmit){ay.inputmask._valueSet(ay.inputmask.unmaskedvalue(),true);setTimeout(function(){ae(ay,o())},0)}}function X(aE){setTimeout(function(){an.trigger("setvalue")},0)}function au(aG){ay=aG;an=g(ay);if(U.showTooltip){ay.title=U.tooltip||L().mask}if(ay.dir==="rtl"||U.rightAlign){ay.style.textAlign="right"}if(ay.dir==="rtl"||U.numericInput){ay.dir="ltr";ay.removeAttribute("dir");ay.inputmask.isRTL=true;ap=true}Y.off(ay);ao(ay);if(j(ay,U)){Y.on(ay,"submit",ak);Y.on(ay,"reset",X);Y.on(ay,"mouseenter",Q);Y.on(ay,"blur",w);Y.on(ay,"focus",Z);Y.on(ay,"mouseleave",az);Y.on(ay,"click",aC);Y.on(ay,"dblclick",t);Y.on(ay,"paste",am);Y.on(ay,"dragdrop",am);Y.on(ay,"drop",am);Y.on(ay,"cut",ag);Y.on(ay,"complete",U.oncomplete);Y.on(ay,"incomplete",U.onincomplete);Y.on(ay,"cleared",U.oncleared);Y.on(ay,"keydown",aA);Y.on(ay,"keypress",K);Y.on(ay,"input",I)}Y.on(ay,"setvalue",R);if(ay.inputmask._valueGet()!==""||U.clearMaskOnLostFocus===false||document.activeElement===ay){var aE=g.isFunction(U.onBeforeMask)?(U.onBeforeMask(ay.inputmask._valueGet(),U)||ay.inputmask._valueGet()):ay.inputmask._valueGet();A(ay,true,false,aE.split(""));var aF=o().slice();S=aF.join("");if(ad(aF)===false){if(U.clearIncomplete){O()}}if(U.clearMaskOnLostFocus&&document.activeElement!==ay){if(s()===-1){aF=[]}else{aw(aF)}}ae(ay,aF);if(document.activeElement===ay){J(ay,q(s()))}}}var r;if(x!==undefined){switch(x.action){case"isComplete":ay=x.el;return ad(o());case"unmaskedvalue":ay=x.el;if(ay!==undefined&&ay.inputmask!==undefined){G=ay.inputmask.maskset;U=ay.inputmask.opts;ap=ay.inputmask.isRTL}else{r=x.value;if(U.numericInput){ap=true}r=(g.isFunction(U.onBeforeMask)?(U.onBeforeMask(r,U)||r):r).split("");A(undefined,false,false,ap?r.reverse():r);if(g.isFunction(U.onBeforeWrite)){U.onBeforeWrite(undefined,o(),0,U)}}return n(ay);case"mask":ay=x.el;G=ay.inputmask.maskset;U=ay.inputmask.opts;ap=ay.inputmask.isRTL;S=o().join("");au(ay);break;case"format":if(U.numericInput){ap=true}r=(g.isFunction(U.onBeforeMask)?(U.onBeforeMask(x.value,U)||x.value):x.value).split("");A(undefined,false,false,ap?r.reverse():r);if(g.isFunction(U.onBeforeWrite)){U.onBeforeWrite(undefined,o(),0,U)}if(x.metadata){return{value:ap?o().slice().reverse().join(""):o().join(""),metadata:h({action:"getmetadata"},G,U)}}return ap?o().slice().reverse().join(""):o().join("");case"isValid":if(U.numericInput){ap=true}if(x.value){r=x.value.split("");A(undefined,false,true,ap?r.reverse():r)}else{x.value=o().join("")}var P=o();var af=D(),M=P.length-1;for(;M>af;M--){if(N(M)){break}}P.splice(af,M+1-af);return ad(P)&&x.value===o().join("");case"getemptymask":return aD().join("");case"remove":ay=x.el;an=g(ay);G=ay.inputmask.maskset;U=ay.inputmask.opts;ay.inputmask._valueSet(n(ay));Y.off(ay);var aq;if(Object.getOwnPropertyDescriptor&&Object.getPrototypeOf){aq=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ay),"value");if(aq){if(ay.inputmask.__valueGet){Object.defineProperty(ay,"value",{get:ay.inputmask.__valueGet,set:ay.inputmask.__valueSet,configurable:true})}}}else{if(document.__lookupGetter__&&ay.__lookupGetter__("value")){if(ay.inputmask.__valueGet){ay.__defineGetter__("value",ay.inputmask.__valueGet);ay.__defineSetter__("value",ay.inputmask.__valueSet)}}}ay.inputmask=undefined;break;case"getmetadata":if(g.isArray(G.metadata)){var aj,ar=s(undefined,true);for(var B=ar;B>=0;B--){if(L().validPositions[B]&&L().validPositions[B].alternation!==undefined){aj=L().validPositions[B].alternation;break}}return aj!==undefined?G.metadata[L().validPositions[B].locator[aj]]:[]}return G.metadata}}}window.Inputmask=f;return f}));